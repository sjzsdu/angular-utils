@for (form of forms; track form.id; let i = $index) {
  <div class="form-wrap">
    @if (isDropDown) {
      <header class="header">
        <i class="icon" nz-icon [nzType]="form.dropdown ? 'down' : 'right'" (click)="onDrop(form)"></i>
      </header>
    }
    @if (!isDropDown || form.dropdown) {
      <div class="content">
        <wn-form
          class="form-comp"
          [itemSpan]="itemSpan"
          [isSub]="true"
          [items]="form.items"
          [row]="form.initRow"
          (rowChange)="formChange(form, i, $event)"
        ></wn-form>
        <div class="actions">
          <button nz-button nzType="default" nzShape="circle" (click)="moveUp(i)" [disabled]="i === 0">
            <i nz-icon nzType="arrow-up"></i>
          </button>
          <button nz-button nzType="default" nzShape="circle" (click)="moveDown(i)" [disabled]="i === forms.length - 1">
            <i nz-icon nzType="arrow-down"></i>
          </button>
          <button nz-button nzType="default" nzShape="circle" (click)="deleteRow(i)">
            <i nz-icon nzType="delete"></i>
          </button>
        </div>
      </div>
    }
  </div>
} @empty {
  <div>No form data</div>
}

<div class="add-row">
  <button nz-button nzType="default" (click)="addRow()">
    <span nz-icon nzType="plus" nzTheme="outline"></span>
    {{ addTitle }}
  </button>
</div>
